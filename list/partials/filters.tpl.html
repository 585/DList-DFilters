<form role="form">
    <div ng-repeat="field in $filters.$fields" ng-switch="field.type">
        <div class="form-group" ng-switch-when="text">
            <label for="{{field.ngModel}}">{{field.label}}</label>
            <input type="text" name="{{field.ngModel}}" class="form-control" ng-model="$filters.$model[field.ngModel]" />
        </div>
        <div class="form-group" ng-switch-when="select">
            <label for="{{field.ngModel}}">{{field.label}}</label>
            <select name="{{field.ngModel}}" class="form-control" ng-model="$filters.$model[field.ngModel]" ng-options="option.key as option.value for option in field.ngOptions">
            </select>
        </div>
        <div class="checkbox" ng-switch-when="checkbox">
            <label>
                <input type="checkbox" ng-model="$filters.$model[field.ngModel]"/>{{field.label}}
            </label>
        </div>
    </div>
    <button class="btn btn-primary" ng-click="$filters.submit()">Submit</button>
    {{$filters.$model}}
</form>